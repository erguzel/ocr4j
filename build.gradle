/* Gradle 8.8
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.5.1/userguide/tutorial_java_projects.html
 */

plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building a CLI application
    id 'application'
}

allprojects {

    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

group 'com.egzel'


jar {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}


repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
    mavenCentral()
    maven { url "https://jitpack.io" }
    //flatDir {dirs 'lib'}

}


dependencies {

    //compile name: 'cpaar'

    implementation 'com.github.erguzel:cpaar:master-SNAPSHOT'

    // Use JUnit test framework
   // testImplementation 'junit:junit:4.12'
    // https://mvnrepository.com/artifact/net.sourceforge.tess4j/tess4j
    //implementation group: 'net.sourceforge.tess4j', name: 'tess4j', version: '4.4.0'
    
    // https://mvnrepository.com/artifact/net.sourceforge.tess4j/tess4j
    implementation group: 'net.sourceforge.tess4j', name: 'tess4j', version: '5.12.0'


    // https://mvnrepository.com/artifact/org.icepdf.os/icepdf-core
    implementation group: 'org.icepdf.os', name: 'icepdf-core', version: '6.1.2'

    // https://mvnrepository.com/artifact/com.github.jai-imageio/jai-imageio-core
    implementation group: 'com.github.jai-imageio', name: 'jai-imageio-core', version: '1.4.0'
    //implementation name: 'jai-imageio-core-1.4.0'

    // https://mvnrepository.com/artifact/org.apache.pdfbox/jbig2-imageio
    implementation group: 'org.apache.pdfbox', name: 'jbig2-imageio', version: '3.0.2'


}


mainClassName = "com.erg.appool.OcrAppTess4jApp"

task jarOcrAppTess4j(type: Jar) {

    version '1.0-SNAPSHOT'
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    manifest {
        attributes 'Implementation-Title': 'ocr-parse-image-files',
                'Implementation-Version': version,
                'Main-Class': 'com.erg.appool.OcrAppTess4jApp'
    }
    archiveBaseName = 'ocr-app-tess4j'
    from { configurations.runtimeClasspath.collect { it.path.endsWith(".pom") ? it : zipTree(it) } }
    with jar

}

task runOcrAppTess4j(type: JavaExec) {

    sourceSets{
        main.java.srcDir("src/main/java")
        test.java.srcDir("src/test/java")
    }

    classpath sourceSets.main.runtimeClasspath
    main = "com.erg.appool.OcrAppTess4jApp"
    args  "-rr", "asd", "12", "bsd", "-k", "-f","arg2", "arg3"
}


